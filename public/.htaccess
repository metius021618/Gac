# GAC - Apache Configuration
# Rewrite Rules para URLs amigables

<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /

    # Si el archivo o directorio existe, servir directamente
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d

    # Redirigir todo a index.php
    RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule>

# Prevenir acceso a archivos sensibles
<FilesMatch "\.(env|log|sql|md)$">
    Order allow,deny
    Deny from all
</FilesMatch>

# Headers de cache para archivos estáticos (desarrollo)
# En producción, puedes cambiar esto para permitir cache
<IfModule mod_headers.c>
    # CSS y JS sin cache en desarrollo
    <FilesMatch "\.(css|js)$">
        Header set Cache-Control "no-cache, no-store, must-revalidate"
        Header set Pragma "no-cache"
        Header set Expires "0"
    </FilesMatch>
</IfModule>